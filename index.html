<!DOCTYPE html>
<html>
  <head>
    <title>Drunk O' Clock</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.css" />
    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.js"></script>
    	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	
	  ga('create', 'UA-50779455-1', 'edwinfinch.github.io');
	  ga('send', 'pageview');
	</script>
  </head>
  <body>
    <div data-role="page" id="main">
      <div data-role="header" class="jqm-header">
        <h1>Drunk O' Clock</h1>
      </div>

      <div data-role="content">

<div data-role="collapsible-set" data-theme="c" data-content-theme="d" data-mini="false">
    <div data-role="collapsible">
        <h3>Look and Feel</h3>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Theme</legend>
        <input name="key0" id="key0-4" data-type="int" value="4" checked="checked" type="radio">
        <label for="key0-4">Dark</label>
        <input name="key0" id="key0-5" value="5" type="radio">
        <label for="key0-5">Light</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Word Pack</legend>
    <i>Change any words at any time in the translation section of the settings.
    </i>
        <input name="key1" id="key1-4" value="4" checked="checked" type="radio">
        <label for="key1-4">Sober (light words, like "frikken")</label>
        <input name="key1" id="key1-5" value="5" type="radio">
        <label for="key1-5">Tipsy (mild words, like "shitting")</label>
	<input name="key1" id="key1-6" value="6" type="radio">
        <label for="key1-6">Wasted (heavy words, like "fucking")</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Word Update Frequency</legend>
    <i>How often should the swear word update itself? Every...
    </i>
        <input name="key12" id="key12-4" value="4" checked="checked" type="radio">
        <label for="key12-4">minute</label>
        <input name="key12" id="key12-5" value="5" type="radio">
        <label for="key12-5">5 minutes</label>
	<input name="key12" id="key12-6" value="6" type="radio">
        <label for="key12-6">10 minutes</label>
        <input name="key12" id="key12-7" value="7" type="radio">
        <label for="key12-7">15 minutes</label>
        <input name="key12" id="key12-8" value="8" type="radio">
        <label for="key12-8">30 minutes</label>
        <input name="key12" id="key12-9" value="9" type="radio">
        <label for="key12-9">hour</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Animations</legend>
        <input name="key18" id="key18-5" data-type="int" value="5" checked="checked" type="radio">
        <label for="key18-5">Enabled</label>
        <input name="key18" id="key18-4" value="4" type="radio">
        <label for="key18-4">Disabled</label>
</fieldset>

    </div>
<div data-role="collapsible">
        <h3>Date/Time</h3>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Custom Date Format</legend>
    <i>Enable a format other than "[Swear], it's [day]"
    </i>
        <input name="key16" id="key16-4" data-type="int" value="4" checked="checked" type="radio">
        <label for="key16-4">Disabled</label>
        <input name="key16" id="key16-5" value="5" type="radio">
        <label for="key16-5">Enabled</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Date Format</legend>
    <i>This applies if you have the above option enabled.
    </i>
        <input name="key17" id="key17-4" value="4" checked="checked" type="radio">
        <label for="key17-4">DD/MM/YY</label>
        <input name="key17" id="key17-5" value="5" type="radio">
        <label for="key17-5">MM/DD/YY</label>
	<input name="key17" id="key17-6" value="6" type="radio">
        <label for="key17-6">June 8th, 2014</label>
</fieldset>

<fieldset data-role="controlgroup" data-mini="true">
    <fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Seconds</legend>
    <i>Seconds will show up in the top right corner of the screen.</i>
	<input name="key4" id="key4-4" value="4" checked="checked" type="radio">
        <label for="key4-4">Off</label>
        <input name="key4" id="key4-5" value="5" type="radio">
        <label for="key4-5">On</label>
</fieldset>

</div>

    <div data-role="collapsible">
        <h3>Features</h3>

<fieldset data-role="controlgroup" data-mini="true">
    <fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Bluetooth disconnect alert</legend>
        <input name="key2" id="key2-4" value="4" checked="checked" type="radio">
        <label for="key2-4">Off</label>
        <input name="key2" id="key2-5" value="5" type="radio">
        <label for="key2-5">Vibration only</label>
		<input name="key2" id="key2-6" value="6" type="radio">
        <label for="key2-6">Text alert and vibration</label>
</fieldset>

<fieldset data-role="controlgroup" data-mini="true">
    <fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Bluetooth reconnect alert</legend>
        <input name="key3" id="key3-4" value="4" checked="checked" type="radio">
        <label for="key3-4">Off</label>
        <input name="key3" id="key3-5" value="5" type="radio">
        <label for="key3-5">Vibration only</label>
		<input name="key3" id="key3-6" value="6" type="radio">
        <label for="key3-6">Text alert and vibration</label>
</fieldset>

<fieldset data-role="controlgroup" data-mini="true">
    <fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Bottom Slot</legend>
	<i>Insert X into the bottom line, below the time.</i>
        <input name="key5" id="key5-4" value="4" checked="checked" type="radio">
        <label for="key5-4">Date</label>
        <input name="key5" id="key5-5" value="5" type="radio">
        <label for="key5-5">Bluetooth status</label>
        <input name="key5" id="key5-6" value="6" type="radio">
        <label for="key5-6">Custom text (not working yet)</label>
        <input name="key5" id="key5-7" value="7" type="radio">
        <label for="key5-7">Nothing</label>
</fieldset>
<fieldset data-role="controlgroup" data-mini="true">
 <legend><h4>Custom Slot Text:</h4></legend>
    <div class="ui-field-contain">
      <input name="key14" id="slotcustomtext" placeholder="Enter custom slot text" value="Are you dreaming?" data-mini="true" type="text" maxlength="21">
    </div>
</fieldset>

    </div>
    <div data-role="collapsible">
        <h3>Weather</h3>
        <hr>
    <b> Weather is for users rocking 0.3 beta and higher.
</b><br><hr>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Temperature Preference</legend>
        	<input name="key63" id="key63-4" value="4" checked="checked" type="radio">
        <label for="key63-4">Celsius</label>
		<input name="key63" id="key63-5" value="5" type="radio">
        <label for="key63-5">Fahrenheit</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Enable Weather</legend>
    <input name="key6" id="key6-4" value="4" checked="checked" type="radio">
        <label for="key6-4">Weather off</label>
        	<input name="key6" id="key6-5" value="5" checked="checked" type="radio">
        <label for="key6-5">Weather on</label>
</fieldset>

<hr>
    <b> Update frequency is for users rocking 0.4 beta and higher.
</b><br><hr>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Weather Update Frequency</legend>
    <input name="key15" id="key15-4" value="4" checked="checked" type="radio">
        <label for="key15-4">15 minutes</label>
    <input name="key15" id="key15-5" value="5" type="radio">
        <label for="key15-5">30 minutes</label>
    <input name="key15" id="key15-6" value="6" type="radio">
        <label for="key15-6">45 minutes</label>
    <input name="key15" id="key15-7" value="7" type="radio">
        <label for="key15-7">60 minutes</label>
</fieldset>
<!--
<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Location Type</legend>
        <input name="key10" id="key10-4" value="4" checked="checked" type="radio">
        <label for="key10-4">GPS coordinates</label>
        <input name="key10" id="key10-5" value="5" type="radio">
        <label for="key10-5">Specified longitude and latitude</label>
</fieldset>

<fieldset data-role="controlgroup" data-mini="true">
 <legend><h4>Specific coordinates:</h4></legend>
 <i>This is only if you have the above option on "Specified longitude and latitude".</i>
    <div class="ui-field-contain">
      <label for="key60" id="label_key60">Longitude</label>
      <input name="key60" id="trans_key60" placeholder="Enter longitude" value="0.00" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key61" id="label_key61">Latitude</label>
      <input name="key61" id="trans_key61" placeholder="Enter latitude" value="0.00" data-mini="true" type="text" maxlength="8">
    </div>
</fieldset>
-->
    </div>
    
<div data-role="collapsible" >
        <h3>Sober Word Translations</h3>
<fieldset data-role="controlgroup" data-mini="true">
    <div class="ui-field-contain">
      <label for="key30" id="label_key30">flippin:</label>
      <input name="key30" id="trans_key30" placeholder="Enter Translation" value="flippin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key31" id="label_key31">frikken:</label>
      <input name="key31" id="trans_key31" placeholder="Enter Translation" value="frikken" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key32" id="label_key32">darnit:</label>
      <input name="key32" id="trans_key32" placeholder="Enter Translation" value="darnit" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key33" id="label_key33">bangin:</label>
      <input name="key33" id="trans_key33" placeholder="Enter Translation" value="bangin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key34" id="label_key34">truckin:</label>
      <input name="key34" id="trans_key34" placeholder="Enter Translation" value="truckin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key35" id="label_key35">crappin:</label>
      <input name="key35" id="trans_key35" placeholder="Enter Translation" value="crappin" data-mini="true" type="text" maxlength="8">
    </div>
   <div class="ui-field-contain">
      <label for="key36" id="label_key36">bleepin:</label>
      <input name="key36" id="trans_key36" placeholder="Enter Translation" value="bleepin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key37" id="label_key37">bleepin (2):</label>
      <input name="key37" id="trans_key37" placeholder="Enter Translation" value="bleepin" data-mini="true" type="text" maxlength="8">
    </div>
</fieldset>
    </div>
    
    <div data-role="collapsible" >
        <h3>Tipsy Word Translations</h3>
<fieldset data-role="controlgroup" data-mini="true">
    <div class="ui-field-contain">
      <label for="key40" id="label_key40">shittin:</label>
      <input name="key40" id="trans_key40" placeholder="Enter Translation" value="shittin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key41" id="label_key41">cocking:</label>
      <input name="key41" id="trans_key41" placeholder="Enter Translation" value="cocking" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key42" id="label_key42">twattin:</label>
      <input name="key42" id="trans_key42" placeholder="Enter Translation" value="twattin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key43" id="label_key43">jizzing:</label>
      <input name="key43" id="trans_key43" placeholder="Enter Translation" value="jizzing" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key44" id="label_key44">pissing:</label>
      <input name="key44" id="trans_key44" placeholder="Enter Translation" value="pissing" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key45" id="label_key44">bastard:</label>
      <input name="key45" id="trans_key44" placeholder="Enter Translation" value="bastard" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key46" id="label_key46">freakin:</label>
      <input name="key46" id="trans_key46" placeholder="Enter Translation" value="freakin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key47" id="label_key47">damn:</label>
      <input name="key47" id="trans_key47" placeholder="Enter Translation" value="damn" data-mini="true" type="text" maxlength="8">
    </div>
</fieldset>
    </div>
    
        <div data-role="collapsible" >
        <h3>Wasted Word Translations</h3>
<fieldset data-role="controlgroup" data-mini="true">
    <div class="ui-field-contain">
      <label for="key50" id="label_key50">fuckin:</label>
      <input name="key50" id="trans_key50" placeholder="Enter Translation" value="fuckin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key51" id="label_key51">bitchin:</label>
      <input name="key51" id="trans_key51" placeholder="Enter Translation" value="bitchin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key52" id="label_key52">shittin:</label>
      <input name="key52" id="trans_key52" placeholder="Enter Translation" value="shittin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key53" id="label_key53">fisting:</label>
      <input name="key53" id="trans_key53" placeholder="Enter Translation" value="fisting" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key54" id="label_key54">friggin:</label>
      <input name="key54" id="trans_key54" placeholder="Enter Translation" value="friggin" data-mini="true" type="text" maxlength="8">
    </div>
    <div class="ui-field-contain">
      <label for="key55" id="label_key55">fuckity:</label>
      <input name="key55" id="trans_key55" placeholder="Enter Translation" value="fuckity" data-mini="true" type="text" maxlength="8">
    </div>
</fieldset>
    </div>
    
    <div data-role="collapsible">
        <h3>Advanced</h3>
<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Extra Screen</legend>
	<i>If enabled, shake the watch to view extra information. <b>This feature is not unstable as of 0.5.0 beta.
		Download it now from: edwinfinch.com/drunkoclock/
	</b></i>
        <input name="key7" id="key7-4" value="4" checked="checked" type="radio">
        <label for="key7-4">Off</label>
        <input name="key7" id="key7-5" value="5" type="radio">
        <label for="key7-5">On</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Battery Bar</legend>
	<i>If enabled, a white bar will be displayed below the bottom slot indicating the watch's battery level.</i>
        <input name="key8" id="key8-5" value="5" checked="checked" type="radio">
        <label for="key8-5">On</label>
        <input name="key8" id="key8-4" value="4" type="radio">
        <label for="key8-4">Off</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Vibrate On Watchface Update</legend>
	<i>If enabled, the watchface will vibrate on the event of a watchface update being available.</i>
        <input name="key9" id="key9-5" value="5" checked="checked" type="radio">
        <label for="key9-5">On</label>
        <input name="key9" id="key9-4" value="4" type="radio">
        <label for="key9-4">Off</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Version Boot Splash</legend>
	<i>Disabling this will turn off the "D.O.C. version x.x.x [beta/release] on boot and will go right to the time.</i>
        <input name="key11" id="key11-5" value="5" checked="checked" type="radio">
        <label for="key11-5">On</label>
        <input name="key11" id="key11-4" value="4" type="radio">
        <label for="key11-4">Off</label>
</fieldset>

<fieldset data-role="controlgroup" data-type="vertical" data-mini="true">
    <legend>Auto close extrascreen</legend>
	<i>Having this on automatically  closes the extrascreen after 15 seconds. Having this off can make the watchface
	less stable (more prone to crashes)</i>
        <input name="key13" id="key13-5" value="5" checked="checked" type="radio">
        <label for="key13-5">On</label>
        <input name="key13" id="key13-4" value="4" type="radio">
        <label for="key13-4">Off</label>
</fieldset>
    </div>
    <div data-role="collapsible">
        <h3>Information and Support</h3>
<p>Newest watchface version: 0.5.0 beta-b4 <br><br>
Website version: 0.9.0<br><br>
<b>Credits:</b><br> Edwin Finch - Lead developer<br><br>
<i>www.edwinfinch.com/pebble/ see all my projects</i><br><br>
Khal Harris - Image, phrase and promotional creation/support (<i>@stuffkhalwrites</i>)<br><br>
Adam O. - For being a boss, being super patient, and helping me debug the Javascript<br><br>
Beta testers - For making this a better watchface<br><br>
Community - For being amazing and always keeping me laughing<br><br>

<b><i>SUPPORT</i></b><br>
<p>If you need support or something is wrong, I currently assume you're a beta
tester, so please post the issue to the Google+ community. If you can't, or need
a faster way, contact the developer (Edwin) at: contact@edwinfinch.com</p>
</p>

</p>
</fieldset>
    </div>
</div>
<br />
        <div class="ui-body ui-body-c">
          <fieldset class="ui-grid-a">
              <div class="ui-block-a"><button type="submit" data-theme="d" id="b-cancel">Cancel</button></div>
              <div class="ui-block-b"><button type="submit" data-theme="a" id="b-submit">Save</button></div>
          </fieldset>
        </div>
      </div>
    </div>
    <script>
      function saveOptions() {
        var options = {
          'theme':     Number( $("input[name=key0]:checked").val() ),
		  'wordpack':     Number( $("input[name=key1]:checked").val() ),
		  'btdisalert':     Number( $("input[name=key2]:checked").val() ),
		  'btrealert':     Number( $("input[name=key3]:checked").val() ),
		  'seconds':     Number( $("input[name=key4]:checked").val() ),
		  'bottomslot':     Number( $("input[name=key5]:checked").val() ),
		  'updateinterval':     Number( $("input[name=key6]:checked").val() ),
		  'extrascreen':     Number( $("input[name=key7]:checked").val() ),
		  'batterybar':     Number( $("input[name=key8]:checked").val() ),
		  'vibeonupdate': Number( $("input[name=key9]:checked").val() ),
		  'fetchtype': Number( $("input[name=key10]:checked").val() ),
		  'bootsplash': Number( $("input[name=key11]:checked").val() ),
		  'updatefrequency': Number( $("input[name=key12]:checked").val() ),
		  'autoclose': Number( $("input[name=key13]:checked").val() ),
		  'weathertimer': Number( $("input[name=key15]:checked").val() ),
		  'customdate': Number( $("input[name=key16]:checked").val() ),
		  'dateformat': Number( $("input[name=key17]:checked").val() ),
		  'animations': Number( $("input[name=key18]:checked").val() ),
		  'temppref': Number( $("input[name=key63]:checked").val() ),
		  'slotcustomtext': $("input[name=key14]").val(),
		  'trans_sober1': $("input[name=key30]").val(),
          	  'trans_sober2': $("input[name=key31]").val(),
          	  'trans_sober3': $("input[name=key32]").val(),
          	  'trans_sober4': $("input[name=key33]").val(),
          	  'trans_sober5': $("input[name=key34]").val(),
          	  'trans_sober6': $("input[name=key35]").val(),
          	  'trans_sober7': $("input[name=key36]").val(),
          	  'trans_sober8': $("input[name=key37]").val(),
          	  'trans_tipsy1': $("input[name=key40]").val(),
          	  'trans_tipsy2': $("input[name=key41]").val(),
          	  'trans_tipsy3': $("input[name=key42]").val(),
          	  'trans_tipsy4': $("input[name=key43]").val(),
          	  'trans_tipsy5': $("input[name=key44]").val(),
          	  'trans_tipsy6': $("input[name=key45]").val(),
          	  'trans_tipsy7': $("input[name=key46]").val(),
          	  'trans_tipsy8': $("input[name=key46]").val(),
          	  'trans_wasted1': $("input[name=key50]").val(),
          	  'trans_wasted2': $("input[name=key51]").val(),
          	  'trans_wasted3': $("input[name=key52]").val(),
          	  'trans_wasted4': $("input[name=key53]").val(),
          	  'trans_wasted5': $("input[name=key54]").val(),
          	  'trans_wasted6': $("input[name=key55]").val(),
          	  'longitude_c': $("input[name=key60]").val(),
          	  'latitude_c': $("input[name=key61]").val(),
          	  
        }
        return options;
      }

      $().ready(function() {
       if (typeof window.localStorage !== "undefined") {
       	console.log("Not undefined :)");
        if (window.localStorage.pebble_drunkoclock_options) {
          ls_pto = JSON.parse(window.localStorage.pebble_drunkoclock_options);
          // the Pebble webview dies on the next line...
          $("input[name=key0][id=key0-"+ls_pto["theme"]+"]").prop('checked',true);
          $("input[name=key0]").checkboxradio('refresh');
          $("input[name=key1][id=key1-"+ls_pto["wordpack"]+"]").prop('checked',true);
          $("input[name=key1]").checkboxradio('refresh');
          $("input[name=key2][id=key2-"+ls_pto["btdisalert"]+"]").prop('checked',true);
          $("input[name=key2]").checkboxradio('refresh');
          $("input[name=key3][id=key3-"+ls_pto["btrealert"]+"]").prop('checked',true);
          $("input[name=key3]").checkboxradio('refresh');
          $("input[name=key4][id=key4-"+ls_pto["seconds"]+"]").prop('checked',true);
          $("input[name=key4]").checkboxradio('refresh');
          $("input[name=key5][id=key5-"+ls_pto["bottomslot"]+"]").prop('checked',true);
          $("input[name=key5]").checkboxradio('refresh');
          $("input[name=key6][id=key6-"+ls_pto["updateinterval"]+"]").prop('checked',true);
          $("input[name=key6]").checkboxradio('refresh');
          $("input[name=key7][id=key7-"+ls_pto["extrascreen"]+"]").prop('checked',true);
          $("input[name=key7]").checkboxradio('refresh');
          $("input[name=key8][id=key8-"+ls_pto["batterybar"]+"]").prop('checked',true);
          $("input[name=key8]").checkboxradio('refresh');
          $("input[name=key9][id=key9-"+ls_pto["vibeonupdate"]+"]").prop('checked',true);
          $("input[name=key9]").checkboxradio('refresh');
          $("input[name=key10][id=key10-"+ls_pto["fetchtype"]+"]").prop('checked',true);
          $("input[name=key10]").checkboxradio('refresh');
          $("input[name=key11][id=key11-"+ls_pto["bootsplash"]+"]").prop('checked',true);
          $("input[name=key11]").checkboxradio('refresh');
          $("input[name=key12][id=key12-"+ls_pto["updatefrequency"]+"]").prop('checked',true);
          $("input[name=key12]").checkboxradio('refresh');
          $("input[name=key13][id=key13-"+ls_pto["autoclose"]+"]").prop('checked',true);
          $("input[name=key13]").checkboxradio('refresh');
          $("input[name=key15][id=key15-"+ls_pto["weathertimer"]+"]").prop('checked',true);
          $("input[name=key15]").checkboxradio('refresh');
          $("input[name=key16][id=key16-"+ls_pto["customdate"]+"]").prop('checked',true);
          $("input[name=key16]").checkboxradio('refresh');
          $("input[name=key17][id=key17-"+ls_pto["dateformat"]+"]").prop('checked',true);
          $("input[name=key17]").checkboxradio('refresh');
          $("input[name=key18][id=key18-"+ls_pto["animations"]+"]").prop('checked',true);
          $("input[name=key18]").checkboxradio('refresh');
          $("input[name=key63][id=key63-"+ls_pto["temppref"]+"]").prop('checked',true);
          $("input[name=key63]").checkboxradio('refresh');
          if ("trans_sober1" in ls_pto) {
            $("input[name=key14]").val(ls_pto["slotcustomtext"]);
            $("input[name=key30]").val(ls_pto["trans_sober1"]);
            $("input[name=key31]").val(ls_pto["trans_sober2"]);
            $("input[name=key32]").val(ls_pto["trans_sober3"]);
            $("input[name=key33]").val(ls_pto["trans_sober4"]);
            $("input[name=key34]").val(ls_pto["trans_sober5"]);
            $("input[name=key35]").val(ls_pto["trans_sober6"]);
            $("input[name=key36]").val(ls_pto["trans_sober7"]);
            $("input[name=key37]").val(ls_pto["trans_sober8"]);
          }
          if ("trans_tipsy1" in ls_pto) {
            $("input[name=key40]").val(ls_pto["trans_tipsy1"]);
            $("input[name=key41]").val(ls_pto["trans_tipsy2"]);
            $("input[name=key42]").val(ls_pto["trans_tipsy3"]);
            $("input[name=key43]").val(ls_pto["trans_tipsy4"]);
            $("input[name=key44]").val(ls_pto["trans_tipsy5"]);
            $("input[name=key45]").val(ls_pto["trans_tipsy6"]);
            $("input[name=key46]").val(ls_pto["trans_tipsy7"]);
            $("input[name=key47]").val(ls_pto["trans_tipsy8"]);
          }
          if ("trans_wasted1" in ls_pto) {
            $("input[name=key50]").val(ls_pto["trans_wasted1"]);
            $("input[name=key51]").val(ls_pto["trans_wasted2"]);
            $("input[name=key52]").val(ls_pto["trans_wasted3"]);
            $("input[name=key53]").val(ls_pto["trans_wasted4"]);
            $("input[name=key54]").val(ls_pto["trans_wasted5"]);
            $("input[name=key55]").val(ls_pto["trans_wasted6"]);
            $("input[name=key60]").val(ls_pto["longitude_c"]);
            $("input[name=key61]").val(ls_pto["latitude_c"]);
          }
        }
       }
        $("#b-cancel").click(function() {
          console.log("Cancel");
          document.location = "pebblejs://close";
        });

        $("#b-submit").click(function() {
          console.log("Submit");

          ls_pto = JSON.stringify(saveOptions());
          if (typeof window.localStorage !== "undefined") {
            window.localStorage.pebble_drunkoclock_options = ls_pto;
          }
          var location = "pebblejs://close#" + encodeURIComponent(ls_pto);
          console.log("Warping to: " + location);
          console.log(location);
          document.location = location;
        });

      });
    </script>
    <h5>By: Edwin Finch (Magnitude)<br>and Khal Harris (/u/MiracleFish)</h5>
  </body>
</html>
